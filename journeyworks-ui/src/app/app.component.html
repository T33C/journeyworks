<!-- JourneyWorks UI - App Shell -->
<div class="app-container">
  <!-- Top Header -->
  <mat-toolbar class="app-header">
    <button
      mat-icon-button
      (click)="toggleSidenav()"
      matTooltip="Toggle navigation"
    >
      <mat-icon>{{ sidenavCollapsed() ? "menu" : "menu_open" }}</mat-icon>
    </button>

    <div class="brand">
      <mat-icon class="brand-icon">insights</mat-icon>
      <span class="brand-name">{{ title }}</span>
    </div>

    <span class="spacer"></span>

    <span class="tagline">Customer Communications Intelligence Platform</span>

    <button mat-icon-button matTooltip="Notifications">
      <mat-icon>notifications_none</mat-icon>
    </button>

    <button
      mat-icon-button
      [matMenuTriggerFor]="userMenu"
      matTooltip="User menu"
    >
      <mat-icon>account_circle</mat-icon>
    </button>

    <mat-menu #userMenu="matMenu">
      <button mat-menu-item>
        <mat-icon>settings</mat-icon>
        <span>Settings</span>
      </button>
      <button mat-menu-item>
        <mat-icon>help_outline</mat-icon>
        <span>Help</span>
      </button>
      <button mat-menu-item>
        <mat-icon>logout</mat-icon>
        <span>Sign out</span>
      </button>
    </mat-menu>
  </mat-toolbar>

  <!-- Main Layout -->
  <div class="main-layout">
    <!-- Collapsible Sidebar -->
    <nav class="sidebar" [class.collapsed]="sidenavCollapsed()">
      @for (item of navItems; track item.path) {
        <a
          class="nav-item"
          [routerLink]="item.path"
          routerLinkActive="active"
          [routerLinkActiveOptions]="{ exact: item.exact }"
          [matTooltip]="sidenavCollapsed() ? item.label : ''"
          matTooltipPosition="right"
        >
          <mat-icon>{{ item.icon }}</mat-icon>
          @if (!sidenavCollapsed()) {
            <span class="nav-label">{{ item.label }}</span>
          }
        </a>
      }
    </nav>

    <!-- Content Area -->
    <main class="content-area">
      <router-outlet />
    </main>
  </div>
</div>
